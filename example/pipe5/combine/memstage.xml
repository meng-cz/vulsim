<?xml version="1.0" encoding="UTF-8"?>

<combine>

    <name>MemStage</name>

    <pipein>
        <name>mem_in</name>
        <type>MemData</type>
    </pipein>

    <pipeout>
        <name>mem_out</name>
        <type>MemData</type>
    </pipeout>

    <stallable/>
    
    <request>
        <name>dcache_read</name>
        <arg>
            <name>paddr</name>
            <type>uint64</type>
        </arg>
        <arg>
            <name>len</name>
            <type>uint8</type>
        </arg>
        <return>
            <name>data</name>
            <type>uint64</type>
        </return>
        <return>
            <name>error</name>
            <type>uint32</type>
        </return>
    </request>

    <request>
        <name>dcache_write</name>
        <arg>
            <name>paddr</name>
            <type>uint64</type>
        </arg>
        <arg>
            <name>len</name>
            <type>uint8</type>
        </arg>
        <arg>
            <name>data</name>
            <type>uint64</type>
        </arg>
        <return>
            <name>error</name>
            <type>uint32</type>
        </return>
    </request>

    <request>
        <name>dcache_amo</name>
        <arg>
            <name>paddr</name>
            <type>uint64</type>
        </arg>
        <arg>
            <name>len</name>
            <type>uint8</type>
        </arg>
        <arg>
            <name>funct7</name>
            <type>uint8</type>
        </arg>
        <arg>
            <name>arg</name>
            <type>uint64</type>
        </arg>
        <return>
            <name>ret</name>
            <type>uint64</type>
        </return>
        <return>
            <name>error</name>
            <type>uint32</type>
        </return>
    </request>

    <request>
        <name>translate</name>
        <arg>
            <name>vaddr</name>
            <type>uint64</type>
        </arg>
        <return>
            <name>paddr</name>
            <type>uint64</type>
        </return>
        <return>
            <name>error</name>
            <type>uint32</type>
        </return>
    </request>


    <tick>
        <cppfunc>
            <file>MemStage.cpp</file>
            <name>MemStage_tick</name>
        </cppfunc>
    </tick>


</combine>


