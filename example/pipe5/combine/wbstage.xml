<?xml version="1.0" encoding="UTF-8"?>

<combine>

    <name>WbStage</name>

    <pipein>
        <name>wb_in</name>
        <type>MemData</type>
    </pipein>


    <storage>
        <name>regs</name>
        <type>array&lt;uint64,64&gt;</type>
    </storage>
    <storage>
        <name>busybits</name>
        <type>uint64</type>
    </storage>
    <storage>
        <name>busybits_next</name>
        <type>uint64</type>
    </storage>
    <storage>
        <name>busybits_reset</name>
        <type>bool</type>
    </storage>


    <storage>
        <name>fcsr</name>
        <type>uint64</type>
    </storage>
    <storage>
        <name>instret</name>
        <type>uint64</type>
    </storage>

    <storagetick>
        <name>tick_exec_flag</name>
        <type>uint32</type>
        <value>0</value>
    </storagetick>

    <function>
        <name>internal_tick</name>
        <cppfunc>
            <file>WbStage.cpp</file>
            <name>WbStage_internal_tick</name>
        </cppfunc>
    </function>

    <service>
        <name>regread</name>
        <arg>
            <name>idx</name>
            <type>uint16</type>
        </arg>
        <return>
            <name>value</name>
            <type>uint64</type>
        </return>
        <return>
            <name>valid</name>
            <type>bool</type>
        </return>
        <cppfunc>
            <file>WbStage.cpp</file>
            <name>WbStage_regread</name>
        </cppfunc>
    </service>

    <service>
        <name>reglock</name>
        <arg>
            <name>idx</name>
            <type>uint16</type>
        </arg>
        <cppfunc>
            <file>WbStage.cpp</file>
            <name>WbStage_reglock</name>
        </cppfunc>
    </service>

    <request>
        <name>clear_pipeline</name>
    </request>

    <request>
        <name>redirect</name>
        <arg>
            <name>pc</name>
            <type>uint64</type>
        </arg>
    </request>

    <request>
        <name>se_exception</name>
        <arg>
            <name>pc</name>
            <type>uint64</type>
        </arg>
        <arg>
            <name>cause</name>
            <type>uint32</type>
        </arg>
        <arg>
            <name>arg</name>
            <type>uint64</type>
        </arg>
        <arg>
            <name>regs</name>
            <type>array&lt;uint64,64&gt;</type>
        </arg>
        <return>
            <name>nextpc</name>
            <type>uint64</type>
        </return>
        <return>
            <name>modregs</name>
            <type>array&lt;uint64,64&gt;</type>
        </return>

    </request>

    <tick>
        <cppfunc>
            <file>WbStage.cpp</file>
            <name>WbStage_tick</name>
        </cppfunc>
    </tick>

    <applytick>
        <cppfunc>
            <file>WbStage.cpp</file>
            <name>WbStage_applytick</name>
        </cppfunc>
    </applytick>


</combine>
